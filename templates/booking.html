{% extends 'base.html' %}

{% block content %}
<section class="form-section booking-form">
    <h2>Забронируйте незабываемый вечер</h2>
    <p class="form-subtitle">Насладитесь изысканной кухней в атмосфере роскоши</p>

    <form method="POST" id="booking-form">
     <div class="form-group">
            <label>
                <i class="fas fa-building"></i> Выберите зал
            </label>
            <div class="hall-selection">
                {% for hall in halls %}
                <div class="hall-option">
                    <input type="radio" id="hall-{{ loop.index }}" name="hall" value="{{ hall.name }}" required
                           {% if loop.first %}checked{% endif %}>
                    <label for="hall-{{ loop.index }}">
                        <div class="hall-image" style="background-image: url('{{ hall.image }}');"></div>
                        <span>{{ hall.name }}</span>
                    </label>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Поле для комментариев -->
        <div class="form-group special-requests">
            <label for="comments">
                <i class="fas fa-comment"></i> Комментарии и пожелания
            </label>
            <textarea id="comments" name="comments"
                      placeholder="Укажите особые пожелания (аллергии, праздник, музыка и т.д.)"></textarea>
        </div>
        <div class="form-grid">
            <div class="form-group">
                <label for="date">
                    <i class="fas fa-calendar-alt"></i> Дата
                </label>
                <input type="date" id="date" name="date" required
                       min="{{ today }}" max="{{ max_date }}">
                <div class="date-preview" id="date-preview">Выберите дату</div>
            </div>

            <div class="form-group">
                <label for="time">
                    <i class="fas fa-clock"></i> Время
                </label>
                <select id="time" name="time" required>
                    <option value="">Выберите время</option>
                    {% for hour in range(18, 24) %}
                        {% for minute in ['00', '30'] %}
                            <option value="{{ hour }}:{{ minute }}">{{ hour }}:{{ minute }}</option>
                        {% endfor %}
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="form-group guests-selector">
            <label>
                <i class="fas fa-user-friends"></i> Количество гостей
            </label>
            <div class="guests-control">
                <button type="button" class="guest-btn" id="decrease-guests">-</button>
                <input type="number" id="guests" name="guests" value="2" min="1" max="12" readonly>
                <button type="button" class="guest-btn" id="increase-guests">+</button>
            </div>
            <div class="guests-preview">
                <div class="guest-icon"><i class="fas fa-user"></i></div>
                <span id="guests-count">2 гостя</span>
            </div>
        </div>

        <div class="form-grid">
            <div class="form-group">
                <label for="name">
                    <i class="fas fa-user"></i> Ваше имя
                </label>
                <input type="text" id="name" name="name" required
                       placeholder="Как к вам обращаться?">
            </div>

            <div class="form-group">
                <label for="phone">
                    <i class="fas fa-phone"></i> Телефон
                </label>
                <input type="tel" id="phone" name="phone" required
                       placeholder="+7 (XXX) XXX-XXXX">
            </div>
        </div>

        <div class="form-submit">
            <button type="submit" class="btn booking-btn">
                <i class="fas fa-check"></i> Подтвердить бронь
            </button>
            <div class="form-note">
                <i class="fas fa-info-circle"></i> Мы свяжемся с вами для подтверждения брони
            </div>
        </div>
    </form>

    <div class="booking-preview">
        <h3>Ваша бронь</h3>
        <div class="preview-card">
            <div class="preview-item">
                <i class="fas fa-calendar-alt"></i>
                <span id="preview-date">--/--/----</span>
            </div>
            <div class="preview-item">
                <i class="fas fa-clock"></i>
                <span id="preview-time">--:--</span>
            </div>
            <div class="preview-item">
                <i class="fas fa-user-friends"></i>
                <span id="preview-guests">0 гостей</span>
            </div>
            <div class="preview-item">
                <i class="fas fa-user"></i>
                <span id="preview-name">Имя</span>
            </div>
        </div>
    </div>
</section>
{% endblock %}